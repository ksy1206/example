<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="travel">

	<select id="qet_travel_list" parameterType="map" resultType="map">
		SELECT travel_no
			,main_img_nm
			,main_img_path
		FROM travel_info 
		WHERE 1=1
		<if test="search_00 !=null and search_00 != ''">
			And
			addr01 LIKE CONCAT('%',#{search_00},'%')
		</if>						
		<if test="search_01 != null and search_01 != ''">
	   		OR
	   		addr01 LIKE CONCAT('%',#{search_01},'%') 
	    </if>
	    <if test="search_02 != null and search_02 != ''">
	   		OR
	   		addr01 LIKE CONCAT('%',#{search_02},'%')
	    </if>
	    <if test="search_03 != null and search_03 != ''">
	   		OR
	   		addr01 LIKE CONCAT('%',#{search_03},'%')
	    </if>				
		ORDER BY travel_no DESC
		
	</select>
	
	<select id="get_travel_no" parameterType="map" resultType="cmd.vo.TravelVO">
		SELECT
			*
		FROM travel_info
		WHERE
			travel_no = #{travel_no}
	</select>
	
	<select id="get_food_list" parameterType="map" resultType="map">
		SELECT
			food_no
			, travel_no
			, main_img_nm
		FROM
			food_info
		WHERE
			travel_no = #{travel_no}
	</select>
	
	<select id="get_food_details" parameterType="map" resultType="cmd.vo.FoodVO">
		SELECT
			*
		FROM food_info
		WHERE
			travel_no = #{travel_no}
			AND
			food_no = #{food_no}
	</select>
</mapper>